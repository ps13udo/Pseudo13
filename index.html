<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PSEUDO13</title>

<!--
PSEUDO13 ARG NOTE:
Fragments assemble.
Nothing important is announced.
Only weight opens concrete.
DM what you find.
-->

<style>
html,body{
  margin:0;
  padding:0;
  height:100%;
  background:black;
  overflow:hidden;
  font-family:"Courier New", monospace;
  color:#00ff00;
}

/* CRT scanlines */
#scanlines{
  position:fixed;
  inset:0;
  background:
    repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,0.02) 0px,
      rgba(255,255,255,0.02) 1px,
      transparent 2px,
      transparent 4px
    );
  pointer-events:none;
  z-index:999;
}

/* Centered typing */
#center{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  white-space:pre;
  text-align:center;
  font-size:3rem; /* larger initial text */
  z-index:10;
}
.cursor::after{
  content:"_";
  animation:blink 1s infinite;
}
@keyframes blink{0%,50%{opacity:1}51%,100%{opacity:0}}

/* Terminal dump */
#terminal{
  display:none;
  padding:10px;
  white-space:pre-wrap;
  font-size:1.2rem;
  line-height:1.2;
  position:absolute;
  width:100%;
  height:100%;
  overflow:hidden;
}

/* Overlay */
#overlay{
  display:none;
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  font-size:8rem; /* bigger overlay */
  font-weight:bold;
  z-index:50;
  pointer-events:none;
}

/* Popups */
.popup{
  position:absolute;
  width:360px;
  height:auto;
  background:#f5f5f5;
  border:2px solid #888;
  box-shadow:6px 6px 12px #000;
  z-index:100;
  padding-bottom:10px;
}
.popup .title{
  background:#003cff;
  color:white;
  padding:4px;
  cursor:move;
}
.popup .content{
  padding:8px;
  font-size:0.85rem;
  font-weight:bold;
  color:black;
  text-align:center;
  white-space:pre;
}

/* Countdown + loading container */
#rebootContainer{
  display:none;
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  text-align:center;
  width:90vw;
  color:#00ff00;
  font-family:"Courier New", monospace;
}
#loadingBarContainer{
  width:100%;
  background:black;
  height:40px;
  margin-top:20px;
}
#loadingBar{
  display:block;
  background:green;
  height:100%;
  width:0%;
}
#loadingText{
  font-size:4rem;
  margin-top:20px;
}
#face{
  font-size:6rem;
}
</style>
</head>

<body>

<div id="scanlines"></div>
<div id="center" class="cursor"></div>
<div id="terminal"></div>
<div id="overlay">OH NO</div>
<div id="rebootContainer">
  <div id="smiley">
    <pre id="face"></pre>
  </div>
  <div id="loadingBarContainer">
    <div id="loadingBar"></div>
  </div>
  <div id="loadingText"></div>
</div>

<script>
/* ================= AUDIO ================= */
const ctx=new(window.AudioContext||window.webkitAudioContext)();
function beep(f=1200,t=0.04,v=0.08){
  const o=ctx.createOscillator(),g=ctx.createGain();
  o.frequency.value=f; g.gain.value=v;
  o.connect(g); g.connect(ctx.destination);
  o.start(); o.stop(ctx.currentTime+t);
}
function undo(){beep(800,0.2,0.1);}
function type(){beep(1400,0.03,0.05);}

/* ================= ELEMENTS ================= */
const center=document.getElementById("center");
const terminal=document.getElementById("terminal");
const overlay=document.getElementById("overlay");
const rebootContainer=document.getElementById("rebootContainer");
const faceEl=document.getElementById("face");
const loadingBar=document.getElementById("loadingBar");
const loadingText=document.getElementById("loadingText");

const sleep=ms=>new Promise(r=>setTimeout(r,ms));

/* ================= SCREEN JITTER ONLY ON BODY ================= */
setInterval(()=>{
  document.body.style.transform=
    `translate(${Math.random()*3-1.5}px,${Math.random()*3-1.5}px)
     rotate(${Math.random()*0.6-0.3}deg)`;
},40);

/* ================= ARG CLUES ================= */
const clues=[
  "DROP_COUNT=13",
  "PIECE_01=VVS_HOODIE",
  "PIECE_02=DOUBLE_DUFFLE",
  "PIECE_03=THE_SWEATS",
  "P13",
  "HEAVY",
  "WEIGHT",
  "CONCRETE_LOCATION=LA",
  "FREE_BOX_EXISTS",
  "HANDLE_WITH_CARE",
  "DM_REQUIRED",
  "INSTRUCTIONS_UNLOCKED_BY_DM_ONLY",
  "ERROR:LUXURY_NOT_FOUND"
];

/* ================= INTRO ================= */
async function typeDelete(text){
  center.textContent="";
  for(const c of text){
    center.textContent+=c;
    type();
    await sleep(60); // slower typing
  }
  await sleep(400);
  while(center.textContent.length){
    center.textContent=center.textContent.slice(0,-1);
    await sleep(40);
  }
}

async function intro(){
  const lines=[
    ".....",
    "Who are you?",
    "How did you get here?",
    "This page is not indexed",
    "YOU SHOULD NOT BE HERE"
  ];
  for(const l of lines) await typeDelete(l);
  await meltdown();
}

/* ================= MELTDOWN ================= */
function randomLine(){
  const chars="!@#$%^&*()_+=-[]{}<>?/\\|~013";
  let line="";
  for(let i=0;i<120;i++){
    line+=Math.random()<0.025
      ? clues[Math.floor(Math.random()*clues.length)]
      : chars[Math.floor(Math.random()*chars.length)];
  }
  return line;
}

const overlayClues=["OH NO","P13","HEAVY","WEIGHT","DM_REQUIRED","PASSCODE?"];

function flickerOverlay(){
  overlay.textContent=overlayClues[Math.floor(Math.random()*overlayClues.length)];
  overlay.style.transform=
    `translate(${Math.random()*12-6}px,${Math.random()*12-6}px)
     rotate(${Math.random()*4-2}deg)
     scale(${1+Math.random()*0.1})`;
}

async function meltdown(){
  center.style.display="none";
  terminal.style.display="block";
  overlay.style.display="block";

  for(let i=0;i<220;i++){
    terminal.textContent+=randomLine()+"\n";
    flickerOverlay();
    type();
    if(i%14===0) popup();
    if(i%32===0) undo();
    await sleep(22);
  }

  document.querySelectorAll(".popup").forEach(p=>p.remove());
  overlay.style.display="none";

  terminal.textContent+="\n>> FATAL SYSTEM ERROR\n";
  terminal.textContent+=">> INSTRUCTIONS_UNLOCKED_BY_DM_ONLY\n";
  terminal.textContent+=">> SYSTEM REBOOTING...\n\n";

  await reboot();
}

/* ================= POPUPS ================= */
const happyFace=
`      _____
     /     \\
    |  o o  |
    |   ^   |
    | \\___/ |
     \\_____/`;

const sadFace=
`      _____
     /     \\
    |  o o  |
    |   ^   |
    | /___\\ |
     \\_____/`;

function popup(){
  const p=document.createElement("div");
  p.className="popup";
  p.style.top=Math.random()*70+"%";
  p.style.left=Math.random()*70+"%";

  // Randomly choose happy or sad for popup
  const face = Math.random()<0.5 ? happyFace : sadFace;

  p.innerHTML=`
    <div class="title">Pseudo Error</div>
    <div class="content">
      A PSEUDO ERROR HAS OCCURRED.<br>
      LUXURY FILES CORRUPTED.<br>
      ${face}<br>
      DO NOT PANIC.
    </div>`;
  document.body.appendChild(p);
  drag(p);
  setTimeout(()=>p.remove(),4000);
}

function drag(el){
  let x=0,y=0,down=false;
  el.querySelector(".title").onmousedown=e=>{
    down=true;
    x=e.clientX-el.offsetLeft;
    y=e.clientY-el.offsetTop;
  };
  document.onmousemove=e=>{
    if(down){
      el.style.left=e.clientX-x+"px";
      el.style.top=e.clientY-y+"px";
    }
  };
  document.onmouseup=()=>down=false;
}

/* ================= REBOOT ================= */
async function reboot(){
  terminal.style.display="none";
  rebootContainer.style.display="block";
  let percent=0;
  while(percent<100){
    const bars=Math.floor((percent/100)*100);
    loadingBar.style.width=bars+"%";
    loadingText.textContent=Math.floor(percent)+"%";
    percent+=Math.random()*1.5;
    await sleep(160);
    if(percent>99){
      loadingText.textContent="estimated time 6 hours 43 minutes";
      await sleep(3000);
      loadingText.textContent="just kidding";
      await sleep(3000);
      break;
    }
  }
  await face();
}

/* ================= FACE ================= */
async function face(){
  const happy=
`   _____
  /     \\
 |  o o  |
 |   ^   |
 | \\___/ |
  \\_____/`;
  const sad=
`   _____
  /     \\
 |  o o  |
 |   ^   |
 | /___\\ |
  \\_____/`;

  faceEl.textContent=happy;
  await sleep(700);
  faceEl.textContent=sad;
  await sleep(500);
  faceEl.textContent=happy;
  await sleep(700);
  await countdown();
}

/* ================= COUNTDOWN ================= */
async function countdown(){
  rebootContainer.innerHTML=""; // clear everything except container
  const countdownEl=document.createElement("div");
  countdownEl.style.fontSize="6rem";
  countdownEl.style.textAlign="center";
  rebootContainer.appendChild(countdownEl);

  const drop=new Date("2026-03-13T00:00:00").getTime();
  setInterval(()=>{
    const d=drop-Date.now();
    if(d<=0){countdownEl.textContent="00 : 00 : 00 : 00";return;}
    countdownEl.textContent=
      String(Math.floor(d/86400000)).padStart(2,"0")+" : "+
      String(Math.floor(d/3600000)%24).padStart(2,"0")+" : "+
      String(Math.floor(d/60000)%60).padStart(2,"0")+" : "+
      String(Math.floor(d/1000)%60).padStart(2,"0");
  },1000);
}

/* ================= START ================= */
intro();
</script>
</body>
</html>
